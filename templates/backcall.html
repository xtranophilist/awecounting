{% load filters %}
<script>
    var obj = {{ obj|jsonify }};
    $('#modal').modal('hide');
    el = $(window.last_active_select);
    var matches = el.data('bind').match(/\{results: \$root\.([a-z]+)\}/)
    var match = matches[1]
    vm[match].push(obj);
    {#    var temp = el.select2('val'); // save current value#}
    {#    temp.push('haha'); // append new one#}
    {#    var newOptions = '<option value="1">1</option><option value="2">2</option>';#}
    {#    el.select2('destroy').html(newOptions).select2().select2('val', temp);#}
    console.log(window.last_active_select.select2('val'));
    window.last_active_select.select2('val', obj.id);
    console.log(window.last_active_select.select2('val'));
    {#    vm = new InvoiceViewModel(ko_data);#}
    {#    ko.applyBindings(vm);#}
    {#    console.log(el.data('bind'));#}

</script>